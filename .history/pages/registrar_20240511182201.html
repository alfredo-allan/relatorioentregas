<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../style/styles.css">
	<title>Registrar-Se No Chat</title>
</head>
<body>
	<header>
		<header id="ChatApp">
      <img id="menu-icon" src="../img/barra-de-menu.png" alt="" />
      <div id="menu-options">
        <ul>
          <a href="/index.html"><li>Registrar Entrega</li></a>
          <a href="/pages/apagar.html"><li>Apagar Entrega</li></a>
          <a href="/pages/consultar.html"><li>Consultar Entregas</li></a>
					<a href="/pages/editar.html"><li>Editar Entrega</li></a>
					<a href="/pages/chatapp.html"><li>Chat</li></a>
        </ul>
      </div>
			<h1 id="textRegister" >Registar-Se No Chat</h1>
	</header>
	<div id="Registrar">
		<span>Digite Seu Nome</span> <br>
		<input id="usernameInput" placeholder="Seu Nome" type="text">
		<button id="btsRegistrar">Registrar</button>
	</div>
</body>
<script>
  document.getElementById("btsRegistrar").addEventListener("click", function() {
    var username = document.getElementById("usernameInput").value;
    var isAdmin = false; // Por padrão, não é um administrador

    // Crie um objeto com os dados do usuário
    var userData = {
      username: username,
      isAdmin: isAdmin
    };

    // Faça uma requisição fetch para registrar o usuário
    fetch("http://192.168.10.20:/register", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(userData)
    })
    .then(response => response.json())
    .then(data => {
      alert(data.message); // Exibe a mensagem de retorno do servidor
    })
    .catch(error => {
      console.error("Erro ao registrar o usuário:", error);
    });
  });
</script>
<script src="../script.js"></script>
</html>